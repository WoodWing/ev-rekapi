!function(){"use strict";angular.module("ev.rekapi",[]).directive("evRekapi",["Rekapi",function(x){return{restrict:"E",scope:!1,link:function(e,t,a){var n,r,i,o,l,u,c,s,f,v,k,p,d,m,g,h,y,b;for(u=a.context instanceof CanvasRenderingContext2D?a.context:document.body,l=new x.Rekapi(u),k=t.find("actor"),e.rekapi=e.rekapi||[],a.name&&(a.name?e.rekapi[a.name]=l:e.rekapi.push(l)),n=0;n<k.length;n++)for(p=k[n],d=p.attributes.selector.value,m=t.parent().find(d),r=0;r<m.length;r++)for(g=p.querySelectorAll("keyframe"),v=l.addActor({context:m[r]}),i=0;i<g.length;i++)for(h=g[i],y=h.attributes,c=h.querySelectorAll("state"),b={},o=0;o<c.length;o++)s=c[o],f=s.attributes,b[f.name.value]=f.value.value,v.keyframe(y.frame.value,b,y.easing?y.easing.value:void 0)}}}])}();